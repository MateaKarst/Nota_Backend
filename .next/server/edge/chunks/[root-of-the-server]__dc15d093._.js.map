{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 23, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/middleware.ts"],"sourcesContent":["import { NextRequest, NextResponse } from 'next/server';\r\nimport { createClient } from '@supabase/supabase-js';\r\n\r\nconst PUBLIC_PATHS = ['/', '/auth/login', '/favicon.ico'];\r\n\r\nexport async function middleware(req: NextRequest) {\r\n    const pathname = req.nextUrl.pathname;\r\n\r\n    if (PUBLIC_PATHS.includes(pathname)) return NextResponse.next();\r\n\r\n    const token = req.cookies.get('access_token')?.value;\r\n\r\n    if (!token) {\r\n        return NextResponse.redirect(new URL('/auth/login', req.url));\r\n    }\r\n\r\n    const supabase = createClient(\r\n        process.env.NEXT_PUBLIC_SUPABASE_URL!,\r\n        process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\r\n        {\r\n            global: {\r\n                headers: {\r\n                    Authorization: `Bearer ${token}`,\r\n                },\r\n            },\r\n        }\r\n    );\r\n\r\n    const { data, error } = await supabase.auth.getUser();\r\n\r\n    if (error || !data?.user) {\r\n        return NextResponse.redirect(new URL('/auth/login', req.url));\r\n    }\r\n\r\n    return NextResponse.next();\r\n}\r\n\r\nexport const config = {\r\n    matcher: ['/auth/dashboard/:path*', '/api/private/:path*, \"/api/:path*\"'],\r\n};\r\n"],"names":[],"mappings":";;;;AAAA;AAAA;AACA;;;AAEA,MAAM,eAAe;IAAC;IAAK;IAAe;CAAe;AAElD,eAAe,WAAW,GAAgB;IAC7C,MAAM,WAAW,IAAI,OAAO,CAAC,QAAQ;IAErC,IAAI,aAAa,QAAQ,CAAC,WAAW,OAAO,6LAAA,CAAA,eAAY,CAAC,IAAI;IAE7D,MAAM,QAAQ,IAAI,OAAO,CAAC,GAAG,CAAC,iBAAiB;IAE/C,IAAI,CAAC,OAAO;QACR,OAAO,6LAAA,CAAA,eAAY,CAAC,QAAQ,CAAC,IAAI,IAAI,eAAe,IAAI,GAAG;IAC/D;IAEA,MAAM,WAAW,CAAA,GAAA,+LAAA,CAAA,eAAY,AAAD,sUAGxB;QACI,QAAQ;YACJ,SAAS;gBACL,eAAe,CAAC,OAAO,EAAE,OAAO;YACpC;QACJ;IACJ;IAGJ,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,OAAO;IAEnD,IAAI,SAAS,CAAC,MAAM,MAAM;QACtB,OAAO,6LAAA,CAAA,eAAY,CAAC,QAAQ,CAAC,IAAI,IAAI,eAAe,IAAI,GAAG;IAC/D;IAEA,OAAO,6LAAA,CAAA,eAAY,CAAC,IAAI;AAC5B;AAEO,MAAM,SAAS;IAClB,SAAS;QAAC;QAA0B;KAAqC;AAC7E"}}]
}